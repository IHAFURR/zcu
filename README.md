# zcu
Скрипты не являются готовым решением, а выступают как пример, котрый необходимо настроить под свои нужды. 

Скрипт, zimraCUZ, предназначен для добавления студентов в систему zimbra из файла "csv". Предполагается, что у вас уже есть пользователи в системе(если нет, тогда файл MAILUID.csv будет пустым) и каждый студент имеет свой уникальный uid из ЕДЕБО(http://www.inforesurs.gov.ua/info-per/inforesurs-stud.html). Скрипт создает email, для каждого пользователя, проверяет что бы он не был в системе под другим именем, проверяет что бы пользователь не был уже создан, если пользователя нет - пытается создать. Если имя занято, заносим в отдельный файл, если нет, создаем пользователя, информацию берем из файла ЕДЕБО. 

Скрипт, zimbraCUL, выполняет тоже самое, но использует утилиту ldapsearch, для поиска информации о пользователе, и выполняется намного быстрее.

Скрипт, zimbraMUL, достает из системы zimbra, все uid, email пользователя для которого zimbraCOS "student". Созданный файл используется для создания пользователя. Для обновления информации о пользователе, также  необходим файл с email, uid. Его нужно повторно получить после создания пользователей. 

Скрипт, zimbraUI, обновляет информацию о пользователе в системе, как ключ используется № из файла ЕДЕБО, то есть, в zimbra должен храниться этот номер. В скриптах на создание он заносится в поле "facsimileTelephoneNumber". Скриптом, zimbraMUL, мы достаем для каждого пользователя, у которого zimbraCOS = student, email, uid(№ ЕДЕБО).  

Скрипт, zimbraUI, обновляет информацию о пользователе в системе, как ключ используется № из файла ЕДЕБО, то есть, в zimbra должен храниться этот номер. В скриптах на создание он заносится в поле "facsimileTelephoneNumber". Скриптом, zimbraMUL, мы достаем для каждого пользователя, у которого zimbraCOS = student, email, uid(№ ЕДЕБО). Рекомендуется, запустить скрипт и остановить после обновления первого пользователя, посмотреть в лог-фалах emeils, которые были вынесены туда, посмотреть не является ли email alias. если является то не страшно, если нет то удалить совпадения из системы zimbra. Затем снова получить файл с email,uid,  и обновить информацию. 
